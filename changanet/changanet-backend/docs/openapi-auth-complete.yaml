openapi: 3.0.3
info:
  title: CHANGANET - API de Autenticaci√≥n y Registro
  description: |
    API completa para el sistema de Registro y Autenticaci√≥n de Usuarios de CHANGANET.
    
    ## Funcionalidades Principales
    
    ### üîê Autenticaci√≥n
    - **Registro de usuarios** cliente y profesional
    - **Login con email y contrase√±a** con validaci√≥n robusta
    - **OAuth con Google y Facebook** para autenticaci√≥n social
    - **Verificaci√≥n de email** mediante tokens √∫nicos
    - **Recuperaci√≥n de contrase√±a** con tokens temporales
    - **Refresh tokens** para sesiones duraderas
    - **Logout seguro** con revocaci√≥n de tokens
    
    ### üõ°Ô∏è Seguridad
    - **Validaci√≥n avanzada de contrase√±as** con scoring 0-100
    - **Rate limiting inteligente** por endpoint y IP
    - **Bloqueo temporal** tras intentos fallidos
    - **bcrypt hash** con cost 12 para contrase√±as
    - **JWT tokens** con expiraci√≥n configurada
    - **Sanitizaci√≥n de inputs** para prevenir inyecciones
    
    ### üìä Monitoreo
    - **Logging estructurado** para auditor√≠a
    - **M√©tricas de autenticaci√≥n** en tiempo real
    - **Alertas de seguridad** autom√°ticas
    
    ## Autenticaci√≥n
    
    La API utiliza JWT tokens para autenticaci√≥n. Incluye:
    - **Access Token**: V√°lido por 15 minutos
    - **Refresh Token**: V√°lido por 30 d√≠as con rotaci√≥n autom√°tica
    
    ## Rate Limiting
    
    Implementamos rate limiting para proteger contra ataques:
    - **Login**: 5 intentos por 15 minutos
    - **Registro**: 3 registros por hora  
    - **Recuperaci√≥n contrase√±a**: 3 solicitudes por hora
    - **OAuth**: 5 intentos por 15 minutos
    
    ## C√≥digos de Estado
    
    - `200`: Operaci√≥n exitosa
    - `201`: Recurso creado exitosamente
    - `400`: Error en los datos de entrada
    - `401`: No autenticado o token inv√°lido
    - `403`: Sin permisos suficientes
    - `409`: Conflicto (email duplicado)
    - `429`: Rate limit excedido
    - `500`: Error interno del servidor
    
  version: 3.0.0
  contact:
    name: Equipo de Desarrollo CHANGANET
    email: dev@changanet.com.ar
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: https://api.changanet.com/v1
    description: Servidor de producci√≥n
  - url: https://staging-api.changanet.com/v1
    description: Servidor de staging
  - url: http://localhost:3004/api
    description: Servidor de desarrollo

security:
  - BearerAuth: []
  - RefreshTokenAuth: []

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT Access Token para autenticaci√≥n
    RefreshTokenAuth:
      type: apiKey
      in: header
      name: X-Refresh-Token
      description: Refresh Token para renovaci√≥n de sesi√≥n

  schemas:
    User:
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: Identificador √∫nico del usuario
        nombre:
          type: string
          description: Nombre completo del usuario
        email:
          type: string
          format: email
          description: Email del usuario (√∫nico)
        rol:
          type: string
          enum: [cliente, profesional]
          description: Rol del usuario en la plataforma
        esta_verificado:
          type: boolean
          description: Estado de verificaci√≥n del email
        url_foto_perfil:
          type: string
          format: uri
          description: URL de la foto de perfil (OAuth)
        telefono:
          type: string
          description: N√∫mero de tel√©fono
        created_at:
          type: string
          format: date-time
          description: Fecha de creaci√≥n del usuario
        last_login_at:
          type: string
          format: date-time
          description: √öltimo inicio de sesi√≥n

    UserRegistration:
      type: object
      required:
        - name
        - email
        - password
        - rol
      properties:
        name:
          type: string
          minLength: 2
          maxLength: 100
          description: Nombre completo del usuario
        email:
          type: string
          format: email
          description: Email del usuario (√∫nico)
        password:
          type: string
          minLength: 10
          maxLength: 128
          description: Contrase√±a con validaci√≥n avanzada
        rol:
          type: string
          enum: [cliente, profesional]
          description: Rol del usuario

    UserLogin:
      type: object
      required:
        - email
        - password
      properties:
        email:
          type: string
          format: email
          description: Email del usuario
        password:
          type: string
          description: Contrase√±a del usuario

    GoogleOAuth:
      type: object
      required:
        - uid
        - email
        - nombre
      properties:
        uid:
          type: string
          description: UID √∫nico de Google
        email:
          type: string
          format: email
          description: Email de Google
        nombre:
          type: string
          description: Nombre completo de Google
        photo:
          type: string
          format: uri
          description: URL de foto de Google
        rol:
          type: string
          enum: [cliente, profesional]
          description: Rol del usuario (default: cliente)

    PasswordValidation:
      type: object
      properties:
        score:
          type: integer
          minimum: 0
          maximum: 100
          description: Puntuaci√≥n de fortaleza (0-100)
        isValid:
          type: boolean
          description: Si la contrase√±a cumple requisitos m√≠nimos
        suggestions:
          type: array
          items:
            type: string
          description: Sugerencias para mejorar la contrase√±a
        warnings:
          type: array
          items:
            type: string
          description: Advertencias sobre la contrase√±a

    AuthResponse:
      type: object
      properties:
        message:
          type: string
          description: Mensaje de respuesta
        token:
          type: string
          description: JWT Access Token (15 min validez)
        refreshToken:
          type: string
          description: Refresh Token (30 d√≠as validez)
        user:
          $ref: '#/components/schemas/User'
        requiresVerification:
          type: boolean
          description: Si requiere verificaci√≥n de email

    PasswordResetRequest:
      type: object
      required:
        - email
      properties:
        email:
          type: string
          format: email
          description: Email del usuario para recuperaci√≥n

    PasswordReset:
      type: object
      required:
        - token
        - newPassword
      properties:
        token:
          type: string
          description: Token de recuperaci√≥n de contrase√±a
        newPassword:
          type: string
          minLength: 10
          description: Nueva contrase√±a con validaci√≥n avanzada

    Error:
      type: object
      properties:
        error:
          type: string
          description: Mensaje de error
        details:
          type: object
          description: Detalles adicionales del error
        code:
          type: string
          description: C√≥digo de error espec√≠fico
        timestamp:
          type: string
          format: date-time
          description: Timestamp del error

    RateLimitError:
      allOf:
        - $ref: '#/components/schemas/Error'
        - type: object
          properties:
            retryAfter:
              type: integer
              description: Segundos para esperar antes del pr√≥ximo intento

paths:
  /auth/register:
    post:
      tags:
        - Authentication
      summary: Registro de nuevo usuario
      description: |
        Registra un nuevo usuario en la plataforma con email y contrase√±a.
        
        ### Validaciones implementadas:
        - **Email √∫nico**: No puede estar previamente registrado
        - **Fortaleza de contrase√±a**: Sistema de scoring 0-100
        - **Formato de email**: Validaci√≥n con regex robusta
        - **Rate limiting**: 3 registros por hora por IP
        
        ### Proceso post-registro:
        1. Env√≠o autom√°tico de email de verificaci√≥n
        2. Generaci√≥n de tokens JWT (access + refresh)
        3. Creaci√≥n de usuario en base de datos
        4. Login autom√°tico (requiere verificaci√≥n)
      operationId: registerUser
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRegistration'
            example:
              name: "Juan P√©rez"
              email: "juan.perez@ejemplo.com"
              password: "MiContrase√±aSegura123!"
              rol: "cliente"
      responses:
        '201':
          description: Usuario registrado exitosamente
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
              example:
                message: "Usuario registrado exitosamente. Revisa tu email para verificar la cuenta."
                token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                refreshToken: "a1b2c3d4e5f6..."
                user:
                  id: "550e8400-e29b-41d4-a716-446655440000"
                  nombre: "Juan P√©rez"
                  email: "juan.perez@ejemplo.com"
                  rol: "cliente"
                  esta_verificado: false
                requiresVerification: true
        '400':
          description: Error en validaci√≥n de datos
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              example:
                error: "La contrase√±a no cumple con los requisitos de seguridad."
                details:
                  score: 25
                  warnings: ["La contrase√±a debe tener al menos 10 caracteres"]
                  suggestions: ["Usa una combinaci√≥n de letras, n√∫meros y s√≠mbolos"]
        '409':
          description: Email ya registrado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              example:
                error: "El email ya est√° registrado."
        '429':
          description: Rate limit excedido
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RateLimitError'
              example:
                error: "Demasiados intentos"
                message: "Demasiados intentos. Int√©ntalo de nuevo en 3600 segundos."
                retryAfter: 3600

  /auth/login:
    post:
      tags:
        - Authentication
      summary: Iniciar sesi√≥n con email y contrase√±a
      description: |
        Autentica un usuario con email y contrase√±a.
        
        ### Caracter√≠sticas de seguridad:
        - **Bloqueo temporal**: 5 intentos fallidos = 15 min bloqueo
        - **Rate limiting**: 5 intentos por 15 minutos
        - **Validaci√≥n robusta**: Contrase√±as hasheadas con bcrypt cost 12
        - **Usuarios Google**: Detecta usuarios de OAuth y redirige apropiadamente
        
        ### Respuesta exitosa:
        - Tokens JWT (access + refresh)
        - Datos del usuario autenticado
        - Mensaje de bienvenida
      operationId: loginUser
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserLogin'
            example:
              email: "juan.perez@ejemplo.com"
              password: "MiContrase√±aSegura123!"
      responses:
        '200':
          description: Login exitoso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
              example:
                message: "Login exitoso."
                token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                refreshToken: "a1b2c3d4e5f6..."
                user:
                  id: "550e8400-e29b-41d4-a716-446655440000"
                  nombre: "Juan P√©rez"
                  email: "juan.perez@ejemplo.com"
                  rol: "cliente"
                  esta_verificado: true
        '401':
          description: Credenciales inv√°lidas
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              examples:
                invalidCredentials:
                  summary: "Credenciales incorrectas"
                  value:
                    error: "Credenciales inv√°lidas."
                googleUser:
                  summary: "Usuario de Google sin contrase√±a local"
                  value:
                    error: "Credenciales inv√°lidas."
                    isGoogleUser: true
        '429':
          description: Rate limit o bloqueo temporal
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RateLimitError'
              examples:
                rateLimit:
                  summary: "Rate limit excedido"
                  value:
                    error: "Demasiados intentos"
                    message: "Demasiados intentos. Int√©ntalo de nuevo en 900 segundos."
                    retryAfter: 900
                accountBlocked:
                  summary: "Cuenta bloqueada temporalmente"
                  value:
                    error: "Cuenta bloqueada temporalmente por m√∫ltiples intentos fallidos."
                    retryAfter: 900

  /auth/google-login:
    post:
      tags:
        - OAuth
      summary: Autenticaci√≥n con Google OAuth
      description: |
        Autentica o registra un usuario usando Google OAuth.
        
        ### Funcionalidades:
        - **Registro autom√°tico** de usuarios nuevos
        - **Actualizaci√≥n** de usuarios existentes
        - **Gesti√≥n de fotos** de perfil de Google
        - **Verificaci√≥n autom√°tica** de usuarios Google
        - **Vinculaci√≥n** con cuentas existentes por email
        
        ### Datos de Google utilizados:
        - UID √∫nico de Google
        - Email verificado de Google
        - Nombre completo
        - Foto de perfil (si est√° disponible)
      operationId: googleOAuth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GoogleOAuth'
            example:
              uid: "google_123456789"
              email: "usuario@ejemplo.com"
              nombre: "Usuario Google"
              photo: "https://lh3.googleusercontent.com/a/..."
              rol: "cliente"
      responses:
        '200':
          description: Autenticaci√≥n con Google exitosa
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
              example:
                message: "Login exitoso con Google"
                token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                refreshToken: "a1b2c3d4e5f6..."
                user:
                  id: "550e8400-e29b-41d4-a716-446655440000"
                  nombre: "Usuario Google"
                  email: "usuario@ejemplo.com"
                  rol: "cliente"
                  esta_verificado: true
                  url_foto_perfil: "https://lh3.googleusercontent.com/a/..."
        '400':
          description: Datos de Google inv√°lidos
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              examples:
                missingFields:
                  summary: "Campos requeridos faltantes"
                  value:
                    error: "Campos requeridos faltantes: uid, email, nombre son obligatorios"
                invalidEmail:
                  summary: "Formato de email inv√°lido"
                  value:
                    error: "Formato de email inv√°lido"
                invalidRole:
                  summary: "Rol inv√°lido"
                  value:
                    error: "Rol inv√°lido para registro social."

  /auth/verify-email:
    get:
      tags:
        - Email Verification
      summary: Verificar email mediante token
      description: |
        Verifica el email del usuario usando el token enviado por correo.
        
        ### Proceso:
        1. Valida token √∫nico de verificaci√≥n
        2. Verifica que no ha expirado (24 horas)
        3. Marca email como verificado
        4. Limpia tokens temporales
        5. Permite acceso completo a la cuenta
        
        ### Tokens:
        - **Generados autom√°ticamente** en registro
        - **Expires**: 24 horas despu√©s de generaci√≥n
        - **Uso √∫nico**: Se invalidan tras verificaci√≥n exitosa
      operationId: verifyEmail
      parameters:
        - name: token
          in: query
          required: true
          schema:
            type: string
            minLength: 32
            maxLength: 64
          description: Token de verificaci√≥n enviado por email
          example: "abc123def456ghi789jkl012mno345pqr678stu901vwx234yz567"
      responses:
        '200':
          description: Email verificado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Email verificado exitosamente"
                  user:
                    $ref: '#/components/schemas/User'
                    example:
                      id: "550e8400-e29b-41d4-a716-446655440000"
                      nombre: "Juan P√©rez"
                      email: "juan.perez@ejemplo.com"
                      rol: "cliente"
                      esta_verificado: true
        '400':
          description: Token inv√°lido o expirado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              examples:
                invalidToken:
                  summary: "Token inv√°lido"
                  value:
                    error: "Token de verificaci√≥n inv√°lido"
                expiredToken:
                  summary: "Token expirado"
                  value:
                    error: "Token de verificaci√≥n expirado"

  /auth/forgot-password:
    post:
      tags:
        - Password Recovery
      summary: Solicitar recuperaci√≥n de contrase√±a
      description: |
        Solicita el env√≠o de un email para recuperaci√≥n de contrase√±a.
        
        ### Caracter√≠sticas de seguridad:
        - **Rate limiting**: 3 solicitudes por hora por IP
        - **Respuesta gen√©rica**: No revela si el email existe
        - **Token √∫nico**: Generado cryptogr√°ficamente seguro
        - **Expiraci√≥n corta**: 1 hora para mayor seguridad
        
        ### Proceso:
        1. Valida formato de email
        2. Busca usuario por email
        3. Genera token √∫nico de recuperaci√≥n
        4. Env√≠a email con enlace de recuperaci√≥n
        5. Responde con mensaje gen√©rico
      operationId: forgotPassword
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PasswordResetRequest'
            example:
              email: "juan.perez@ejemplo.com"
      responses:
        '200':
          description: Email de recuperaci√≥n enviado
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Si el email existe, se enviar√° un enlace de recuperaci√≥n."
        '400':
          description: Email requerido
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              example:
                error: "Email requerido"
        '429':
          description: Rate limit excedido
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RateLimitError'
              example:
                error: "Demasiados intentos"
                message: "Demasiados intentos. Int√©ntalo de nuevo en 3600 segundos."
                retryAfter: 3600

  /auth/reset-password:
    post:
      tags:
        - Password Recovery
      summary: Restablecer contrase√±a con token
      description: |
        Restablece la contrase√±a usando el token de recuperaci√≥n.
        
        ### Validaciones:
        - **Token v√°lido**: Debe existir y no estar expirado
        - **Nueva contrase√±a**: Validaci√≥n avanzada con scoring
        - **Seguridad**: Contrase√±a hasheada con bcrypt cost 12
        - **Limpieza**: Tokens de recuperaci√≥n se invalidan
        
        ### Proceso:
        1. Valida token de recuperaci√≥n
        2. Verifica expiraci√≥n (1 hora)
        3. Valida nueva contrase√±a
        4. Actualiza contrase√±a en BD
        5. Invalida tokens de recuperaci√≥n
        6. Respuesta de √©xito
      operationId: resetPassword
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PasswordReset'
            example:
              token: "recovery_token_123"
              newPassword: "NuevaContrase√±aSegura456!"
      responses:
        '200':
          description: Contrase√±a restablecida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Contrase√±a restablecida exitosamente"
        '400':
          description: Token inv√°lido, expirado o contrase√±a d√©bil
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              examples:
                invalidToken:
                  summary: "Token inv√°lido"
                  value:
                    error: "Token inv√°lido"
                expiredToken:
                  summary: "Token expirado"
                  value:
                    error: "Token expirado"
                weakPassword:
                  summary: "Contrase√±a d√©bil"
                  value:
                    error: "La nueva contrase√±a no cumple con los requisitos de seguridad."
                    details:
                      score: 25
                      warnings: ["La contrase√±a debe tener al menos 10 caracteres"]
                      suggestions: ["Usa una combinaci√≥n de letras, n√∫meros y s√≠mbolos"]

  /auth/refresh:
    post:
      tags:
        - Token Management
      summary: Renovar access token con refresh token
      description: |
        Renueva el access token usando un refresh token v√°lido.
        
        ### Caracter√≠sticas de seguridad:
        - **Rotaci√≥n autom√°tica**: Genera nuevo refresh token
        - **Invalidaci√≥n anterior**: Revoca refresh token usado
        - **Validaci√≥n robusta**: Verifica expiraci√≥n y estado
        - **Trazabilidad**: Logging de renovaciones
        
        ### Proceso:
        1. Valida refresh token (formato y firma)
        2. Busca token en base de datos
        3. Verifica que no est√© expirado o revocado
        4. Genera nuevo access token
        5. Genera nuevo refresh token
        6. Revoca refresh token anterior
        7. Almacena nuevo refresh token en BD
      operationId: refreshToken
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - refreshToken
              properties:
                refreshToken:
                  type: string
                  description: Refresh token v√°lido
                  example: "a1b2c3d4e5f6g7h8i9j0..."
      responses:
        '200':
          description: Token renovado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Token refrescado exitosamente"
                  token:
                    type: string
                    description: Nuevo JWT Access Token (15 min validez)
                    example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  refreshToken:
                    type: string
                    description: Nuevo Refresh Token (30 d√≠as validez)
                    example: "z9y8x7w6v5u4t3s2r1q0..."
        '401':
          description: Refresh token inv√°lido o expirado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              examples:
                invalidToken:
                  summary: "Token inv√°lido"
                  value:
                    error: "Refresh token inv√°lido"
                expiredToken:
                  summary: "Token expirado o revocado"
                  value:
                    error: "Refresh token inv√°lido o expirado"

  /auth/me:
    get:
      tags:
        - User Management
      summary: Obtener datos del usuario autenticado
      description: |
        Obtiene los datos del usuario actualmente autenticado.
        
        ### Informaci√≥n retornada:
        - Datos b√°sicos del usuario (ID, nombre, email, rol)
        - Estado de verificaci√≥n del email
        - URL de foto de perfil (si disponible)
        - Metadatos (fechas de creaci√≥n, √∫ltimo login)
        
        ### Autenticaci√≥n requerida:
        - JWT Access Token en header Authorization
        - Token v√°lido y no expirado
        - Usuario existente en base de datos
      operationId: getCurrentUser
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Datos del usuario obtenidos exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  user:
                    $ref: '#/components/schemas/User'
              example:
                user:
                  id: "550e8400-e29b-41d4-a716-446655440000"
                  nombre: "Juan P√©rez"
                  email: "juan.perez@ejemplo.com"
                  rol: "cliente"
                  esta_verificado: true
                  url_foto_perfil: "https://example.com/photo.jpg"
        '401':
          description: Token inv√°lido o expirado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              example:
                error: "Token inv√°lido o expirado"
        '403':
          description: Token malformado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              example:
                error: "Token malformado"

  /auth/logout:
    post:
      tags:
        - Token Management
      summary: Cerrar sesi√≥n y revocar tokens
      description: |
        Cierra la sesi√≥n del usuario y revoca todos los refresh tokens asociados.
        
        ### Proceso de logout:
        1. Valida JWT Access Token
        2. Identifica usuario autenticado
        3. Revoca todos los refresh tokens activos
        4. Limpia tokens locales del cliente
        5. Logging de evento de logout
        6. Respuesta de confirmaci√≥n
        
        ### Seguridad:
        - **Revocaci√≥n masiva**: Todos los refresh tokens del usuario
        - **Cleanup**: Tokens no pueden reutilizarse
        - **Audit trail**: Log de eventos de seguridad
      operationId: logout
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Logout exitoso, tokens revocados
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Logout exitoso"
        '401':
          description: Token inv√°lido o expirado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              example:
                error: "Token inv√°lido o expirado"

  /auth/resend-verification:
    post:
      tags:
        - Email Verification
      summary: Reenviar email de verificaci√≥n
      description: |
        Reenv√≠a el email de verificaci√≥n a usuarios no verificados.
        
        ### Restricciones:
        - Usuario debe existir
        - Email no debe estar verificado
        - Genera nuevo token de verificaci√≥n
        - Resetea tiempo de expiraci√≥n
        
        ### Proceso:
        1. Busca usuario por email
        2. Verifica que no est√© verificado
        3. Genera nuevo token √∫nico
        4. Establece nueva expiraci√≥n (24h)
        5. Env√≠a email de verificaci√≥n
        6. Respuesta de confirmaci√≥n
      operationId: resendVerification
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
                  description: Email del usuario a verificar
                  example: "juan.perez@ejemplo.com"
      responses:
        '200':
          description: Email de verificaci√≥n reenviado
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Email de verificaci√≥n reenviado exitosamente"
        '400':
          description: Usuario no encontrado o ya verificado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              examples:
                userNotFound:
                  summary: "Usuario no encontrado"
                  value:
                    error: "Usuario no encontrado"
                alreadyVerified:
                  summary: "Email ya verificado"
                  value:
                    error: "El email ya est√° verificado"
        '500':
          description: Error al enviar email de verificaci√≥n
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              example:
                error: "Error al enviar email de verificaci√≥n"

tags:
  - name: Authentication
    description: Endpoints principales de autenticaci√≥n
  - name: OAuth
    description: Autenticaci√≥n con redes sociales
  - name: Email Verification
    description: Verificaci√≥n y reenv√≠o de emails
  - name: Password Recovery
    description: Recuperaci√≥n y restablecimiento de contrase√±as
  - name: Token Management
    description: Gesti√≥n de tokens JWT y refresh
  - name: User Management
    description: Gesti√≥n de datos de usuario

externalDocs:
  description: Documentaci√≥n completa del proyecto CHANGANET
  url: https://docs.changanet.com.ar